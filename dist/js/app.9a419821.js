(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},s={app:0},a=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("64a9"),s=r.n(n);s.a},"0895":function(t,e,r){t.exports=r.p+"img/google.87be59a1.svg"},"16e8":function(t,e,r){},"32a3":function(t,e,r){"use strict";var n=r("466d"),s=r.n(n);s.a},"34be":function(t,e,r){"use strict";var n=r("6b75"),s=r.n(n);s.a},3617:function(t,e,r){},"38b6":function(t,e,r){"use strict";var n=r("16e8"),s=r.n(n);s.a},"466d":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("7f7f"),r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("TheNavBar",{directives:[{name:"show",rawName:"v-show",value:t.showPage,expression:"showPage"}]})],1),r("router-view",{directives:[{name:"show",rawName:"v-show",value:t.showPage,expression:"showPage"}],key:t.$route.path,on:{ready:function(e){t.showPage=!0}}}),r("AppSpinner",{directives:[{name:"show",rawName:"v-show",value:!t.showPage,expression:"!showPage"}]})],1)},a=[],i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sk-circle"},[r("div",{staticClass:"sk-circle1 sk-child"}),r("div",{staticClass:"sk-circle2 sk-child"}),r("div",{staticClass:"sk-circle3 sk-child"}),r("div",{staticClass:"sk-circle4 sk-child"}),r("div",{staticClass:"sk-circle5 sk-child"}),r("div",{staticClass:"sk-circle6 sk-child"}),r("div",{staticClass:"sk-circle7 sk-child"}),r("div",{staticClass:"sk-circle8 sk-child"}),r("div",{staticClass:"sk-circle9 sk-child"}),r("div",{staticClass:"sk-circle10 sk-child"}),r("div",{staticClass:"sk-circle11 sk-child"}),r("div",{staticClass:"sk-circle12 sk-child"})])}],c={},l=c,u=(r("38b6"),r("2877")),d=Object(u["a"])(l,i,o,!1,null,"8d395bf8",null),m=d.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v("Â |\n  "),t.user?r("span",[r("router-link",{attrs:{to:"/logout"}},[t._v("SignOut")])],1):r("span",[r("router-link",{attrs:{to:"/signin"}},[t._v("Login")]),t._v("Â |\n    "),r("router-link",{attrs:{to:"/register"}},[t._v("Register")])],1)],1)},f=[],h=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),b=r("2f62");function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(r,!0).forEach((function(e){Object(h["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var y={computed:g({},Object(b["c"])({user:"auth/authUser"}))},O=y,w=Object(u["a"])(O,p,f,!1,null,"642689a2",null),C=w.exports,P={components:{AppSpinner:m,TheNavBar:C},data:function(){return{showPage:!1}},created:function(){var t=this;this.$router.beforeEach((function(e,r,n){e.name!=r.name&&(t.showPage=!1),n()}))},name:"app"},j=P,_=(r("034f"),Object(u["a"])(j,s,a,!1,null,null,null)),k=_.exports,S=(r("5df3"),r("8aa5")),x=r.n(S);function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(r,!0).forEach((function(e){Object(h["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var A={namespaced:!0,state:{authId:null,unsubscribeAuthObserver:null},getters:{authUser:function(t,e,r){return t.authId?r.users.items[t.authId]:null}},actions:{registerUserWithEmailAndPassword:function(t,e){var r=t.dispatch,n=e.email,s=e.name,a=e.password,i=e.role;return x.a.auth().createUserWithEmailAndPassword(n,a).then((function(t){return console.log("User uid: ",t.user.uid),r("users/createUser",{id:t.user.uid,email:n,name:s,role:i},{root:!0})}),{root:!0}).then((function(){return r("fetchAuthUser")}))},signInWithEmailAndPassword:function(t,e){var r=e.email,n=e.password;return x.a.auth().signInWithEmailAndPassword(r,n)},signInWithGoogle:function(t,e){var r=t.dispatch,n=new x.a.auth.GoogleAuthProvider;return x.a.auth().signInWithPopup(n).then((function(t){var n=D({},t.user,{role:e});Ge.collection("users").doc(n.uid).get().then((function(t){if(!t.exists)return r("users/createUser",{id:n.uid,name:n.displayName,email:n.email,username:n.email,role:n.role,avatar:n.photoURL},{root:!0}).then((function(){return r("fetchAuthUser")}))}))}))},signOut:function(t){var e=t.commit;return x.a.auth().signOut().then((function(){e("setAuthId",null)}))},initAuthentification:function(t){var e=t.dispatch,r=t.commit,n=t.state;return new Promise((function(t,s){n.unsubscribeAuthObserver&&n.unsubscribeAuthObserver();var a=x.a.auth().onAuthStateChanged((function(r){console.log("ðŸ‘£ the user has changed"),r?e("fetchAuthUser").then((function(e){return t(e)})):t(null)}));r("setUnsubscribeAuthObserver",a)}))},fetchAuthUser:function(t){var e=t.dispatch,r=t.commit,n=x.a.auth().currentUser.uid;return new Promise((function(t,s){Ge.collection("users").doc(n).get().then((function(s){if(s.exists)return e("users/fetchUser",{id:n},{root:!0}).then((function(e){r("setAuthId",n),t(e)}));t(null)}))}))}},mutations:{setAuthId:function(t,e){t.authId=e},setUnsubscribeAuthObserver:function(t,e){t.unsubscribeAuthObserver=e}}},E={namespaced:!0,state:{items:{}},actions:{createUser:function(t,e){var r=t.state,n=t.commit,s=e.id,a=e.email,i=e.name,o=(e.username,e.role);e.avatar;return new Promise((function(t,e){a=a.toLowerCase();var c={email:a,name:i,role:o};console.log(c),console.log("New User id: ",s),Ge.collection("users").doc(s).set(c).then((function(){n("setItem",{resource:"users",item:c,id:s},{root:!0}),t(r.items[s])}))}))},fetchUser:function(t,e){var r=t.dispatch,n=e.id;return r("fetchItem",{id:n,resource:"users"},{root:!0})}},mutations:{setUser:function(t,e){var r=e.user,s=e.userId;n["a"].set(t.items,s,r)}}},q=r("768b"),$=(r("ffc1"),r("96cf"),r("3b8d")),R=function(t){return t%2==0},N=function(t,e,r){var n,s=(n={},Object(h["a"])(n,t,{score:0}),Object(h["a"])(n,e,{score:0}),Object(h["a"])(n,"stats",{nrRatings:0,users:[],winner:null}),n);return r.forEach((function(r){s[t][r]=null,s[e][r]=null})),s},B=function(t,e){for(var r=t.length,n={},s=0,a=0;a<r;a+=2)n[s]=N(t[a],t[a+1],e),s++;return n},U=function(t,e){for(var r=z(t.length),n=r/2,s={},a=0,i=r-1,o=0,c=n-1,l=null,u=0;u<n;u++)l=R(u)?o++:c--,s[l]={},s[l]=t[i]?N(t[a],t[i],e):Object(h["a"])({},t[a],null),a++,i--;return s},z=function(t){var e=0;if(t&&!(t&t-1))return t;while(0!=t)t>>=1,e+=1;return 1<<e},T=function(t){var e=t.average,r=t.nrRatings,n=t.newRating;return(e*r+n)/(r+1)};function G(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function W(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?G(r,!0).forEach((function(e){Object(h["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var V={namespaced:!0,state:{items:{}},getters:{},actions:{fetchAllContests:function(t){var e=t.commit;return console.log("Fetching Contests: ALL"),new Promise(function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(r,n){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ge.collection("contests").get();case 2:s=t.sent,s.docs.forEach((function(t){e("setItem",{resource:"contests",id:t.id,item:t.data()},{root:!0})})),r();case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())},fetchContest:function(t,e){var r=t.commit;return new Promise(function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(n,s){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ge.collection("contests").doc(e).get();case 2:a=t.sent,r("setItem",{resource:"contests",id:e,item:a.data()},{root:!0}),n();case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())},createContest:function(t,e){var r=t.commit,n=t.state,s=t.rootState,a=e.contest,i=e.players;return new Promise(function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,o){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=W({},a,{userId:s.users.items[s.auth.authId].email,status:"notStarted",currentStage:0,stages:Object(h["a"])({},"0",U(i,a.benchmarks))}),t.next=3,Ge.collection("contests").add(a);case 3:c=t.sent,r("setItem",{resource:"contests",id:c.id,item:a},{root:!0}),e(n.items[c.id]);case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())},sendRoundRating:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,r){var n,s,a,i,o,c,l,u,d,m,p,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,s=e.dispatch,a=e.rootState,i=r.contestId,o=r.stageId,c=r.roundId,l=r.players,t.next=4,s("fetchContest",i);case 4:return u=n.items[i].stages[o][c],d={},m=n.items[i].benchmarks,p=u.stats.nrRatings,f="stages.".concat(o,".").concat(c),m.forEach((function(t){l.forEach((function(e){d["".concat(f,".").concat(e.name,".").concat(t)]=T({average:u[e.name][t],nrRatings:p,newRating:parseInt(e.benchmarks[t],10)})}))})),d["".concat(f,".stats.nrRatings")]=p+1,d["".concat(f,".stats.users")]=We.FieldValue.arrayUnion(a.auth.authId),t.next=11,Ge.collection("contests").doc(i).update(d);case 11:return t.next=13,s("fetchContest",i);case 13:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),endStage:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e,r){var n,s,a,i,o,c,l,u,d,m,p,f,b,v,g,y,O,w,C,P,j,_,k,S,x,I,D,A,E,$,R,N,U,z,T;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,s=e.commit,a=r.contestId,i=r.stageId,o=n.items[a].stages[i],c=n.items[a].benchmarks,l={},u=[],d=null,m=null,p=null,v=0,g=Object.entries(o);case 5:if(!(v<g.length)){t.next=57;break}if(y=Object(q["a"])(g[v],2),O=y[0],w=y[1],w.stats){t.next=10;break}return u.push(Object.keys(w)[0]),t.abrupt("continue",54);case 10:if(!w.stats.winner){t.next=13;break}return u.push(w.stats.winner),t.abrupt("continue",54);case 13:d={},C=0,P=Object.entries(w);case 15:if(!(C<P.length)){t.next=33;break}if(j=Object(q["a"])(P[C],2),_=j[0],k=j[1],"stats"!=_){t.next=19;break}return t.abrupt("continue",30);case 19:d[_]=0,S=0,x=Object.entries(k);case 21:if(!(S<x.length)){t.next=29;break}if(I=Object(q["a"])(x[S],2),D=I[0],A=I[1],"score"!=D){t.next=25;break}return t.abrupt("continue",26);case 25:d[_]+=A;case 26:S++,t.next=21;break;case 29:l["stages.".concat(i,".").concat(O,".").concat(_,".score")]=d[_];case 30:C++,t.next=15;break;case 33:if(m=Object.keys(d),console.log(m[0],d[m[0]]),console.log(m[1],d[m[1]]),p=d[m[0]]>d[m[1]]?m[0]:d[m[0]]<d[m[1]]?m[1]:null,console.log("winnner",p),p){t.next=50;break}E=0,$=Object.entries(c);case 40:if(!(E<$.length)){t.next=50;break}if(R=Object(q["a"])($[E],2),R[0],N=R[1],f=w[m[0]][N],b=w[m[1]][N],p=f>b?m[0]:f<b?m[1]:null,!p){t.next=47;break}return t.abrupt("break",50);case 47:E++,t.next=40;break;case 50:p||(p=m[0].charAt(0)>m[1].charAt(0)?m[1]:m[0]),console.log("winnner",p),l["stages.".concat(i,".").concat(O,".stats.winner")]=p,u.push(p);case 54:v++,t.next=5;break;case 57:return 1==Object.keys(o).length?(s("endContest",a),l["status"]="finished"):(z=B(u,c),T=n.items[a].currentStage+1,n.items[a].stages["".concat(T)]=z,l=W({},l,(U={},Object(h["a"])(U,"stages.".concat(T),z),Object(h["a"])(U,"currentStage",T),Object(h["a"])(U,"status","paused"),U))),t.next=60,Ge.collection("contests").doc(a).update(l);case 60:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),disqualifyPlayer:function(t,e){var r=t.commit,n=t.state,s=e.playerName,a=e.opponentName,i=e.contestId,o=e.stageId,c=e.roundId,l={},u="stages.".concat(o,".").concat(c);1==Object.keys(n.items[i].stages[o]).length&&(l["status"]="finished"),l["".concat(u,".").concat(s,".score")]="disqualified",l["".concat(u,".stats.winner")]=a,Ge.collection("contests").doc(i).update(l),r("disqualify",{playerName:s,opponentName:a,roundId:c,stageId:o,contestId:i})},fetchContestRealTime:function(t,e){var r=t.state,n=t.commit;Ge.collection("contests").where("name","==",r.items[e].name).onSnapshot((function(t){t.docChanges().forEach((function(t){n("setItem",{resource:"contests",id:e,item:t.doc.data()},{root:!0})}))}))}},mutations:{endContest:function(t,e){t.items[e].status="finished"},disqualify:function(t,e){var r=e.playerName,n=e.opponentName,s=e.contestId,a=e.stageId,i=e.roundId;t.items[s].stages[a][i][r].score="disqualified",t.items[s].stages[a][i].stats.winner=n}}};n["a"].use(b["a"]);var L=new b["a"].Store({state:{},getters:{},actions:{fetchItem:function(t,e){var r=t.state,n=t.commit,s=e.id,a=e.resource;return console.log("Fetching ".concat(a,": ").concat(s)),new Promise((function(t,e){Ge.collection(a).doc(s).get().then((function(e){e.exists?(console.log("The document is loaded!"),n("setItem",{resource:a,id:s,item:e.data()}),t(r[a].items[s])):console.log("No such document!")})).catch((function(t){console.log("Error getting document:",t)}))}))},fetchItems:function(t,e){var r=t.dispatch,n=e.ids,s=e.resource;if(n)return n=Object.keys(n),Promise.all(n.map((function(t){return r("fetchItem",{id:t,resource:s})})))}},mutations:{setItem:function(t,e){var r=e.item,s=e.id,a=e.resource;n["a"].set(t[a].items,s,r)}},modules:{auth:A,users:E,contests:V}}),F=r("8c4f"),H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.asyncDataStatus_ready?r("div",{staticClass:"home"},[r("h1",[t._v("Hello "+t._s(t.user?t.user.name:"Guest"))]),t.availableContest?t._l(t.contestsList,(function(t,e){return r("div",{key:e,staticClass:"text-center"},[r("ContestPreview",{attrs:{contest:t,id:e}})],1)})):r("span",[t._v("No contests available!")]),r("br"),r("br"),t.isOrganizer?r("ContestCreator"):t._e()],2):t._e()},J=[],K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-lg-6 col-md-8"},[r("div",{staticClass:"card bg-secondary shadow border-0"},[r("div",{staticClass:"card-body px-lg-5 py-lg-5"},[r("router-link",{attrs:{to:{name:"Contest",params:{id:t.id}}}},[r("button",{staticClass:"btn btn-primary my-4"},[t._v(t._s(t.contest.name))])]),r("div",{staticStyle:{"text-align":"left"}},[r("p",{staticClass:"form-control-label"},[t._v("\n              Description:\n              "),r("span",{staticClass:"db-elem"},[t._v(t._s(t.contest.description))])]),r("p",{staticClass:"form-control-label"},[t._v("\n              Type:\n              "),r("span",{staticClass:"db-elem"},[t._v(t._s(t.contest.type))])]),r("p",{staticClass:"form-control-label"},[t._v("\n              Benchmarks:\n              "),t._l(t.contest.benchmarks,(function(e,n){return r("span",{key:n,staticClass:"db-elem"},[t._v(t._s(e)+t._s(n!=t.contest.benchmarks.length-1?", ":""))])}))],2)])],1)])])]),r("br")])},Y=[],M={name:"ContestPreview",props:{contest:{required:!0,type:Object},id:{required:!0,type:String}},computed:{almostAllBenchmarks:function(){return this.contest.benchmarks.slice(0,-1)}}},Q=M,X=(r("32a3"),Object(u["a"])(Q,K,Y,!1,null,"848a4d3e",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-lg-6 col-md-8"},[n("div",{staticClass:"card bg-secondary shadow border-0"},[n("div",{staticClass:"card-body px-lg-5 py-lg-5"},[n("small",[t._v("New Contest")]),n("form",[n("div",{staticClass:"form-group mb"},[n("div",{staticClass:"input-group input-group-alternative mb-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.contest.name,expression:"contest.name"}],staticClass:"form-control",attrs:{placeholder:"Contest Name",type:"text"},domProps:{value:t.contest.name},on:{input:function(e){e.target.composing||t.$set(t.contest,"name",e.target.value)}}})]),n("div",{staticClass:"input-group input-group-alternative mb-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.contest.description,expression:"contest.description"}],staticClass:"form-control",attrs:{placeholder:"Contest Description",type:"text"},domProps:{value:t.contest.description},on:{input:function(e){e.target.composing||t.$set(t.contest,"description",e.target.value)}}})]),n("div",{staticStyle:{"text-align":"left"}},[n("label",{staticClass:"form-control-label",staticStyle:{"margin-right":"70px"}},[t._v("Contest Type")]),n("label",{staticClass:"radio-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.contest.type,expression:"contest.type"}],staticClass:"custom-radio",attrs:{value:"Classic",type:"radio",name:"type"},domProps:{checked:t._q(t.contest.type,"Classic")},on:{change:function(e){return t.$set(t.contest,"type","Classic")}}}),t._v("Classic\n              ")]),n("label",{staticClass:"radio-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.contest.type,expression:"contest.type"}],staticClass:"custom-radio",attrs:{value:"Other",type:"radio",name:"type",disabled:""},domProps:{checked:t._q(t.contest.type,"Other")},on:{change:function(e){return t.$set(t.contest,"type","Other")}}}),t._v("Others\n              ")])])]),n("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px"}},[n("div",{staticClass:"col-lg-6",staticStyle:{"text-align":"left"}},[n("label",{staticClass:"form-control-label"},[t._v("Add New Benchmark (in importance order)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newBenchmark,expression:"newBenchmark"}],staticClass:"form-control form-control-alternative",attrs:{type:"text",placeholder:"ex: Pace"},domProps:{value:t.newBenchmark},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addBenchMark())},input:function(e){e.target.composing||(t.newBenchmark=e.target.value)}}})]),n("div",{staticClass:"col-lg-6"},[n("label",{staticClass:"form-control-label"},[t._v("Benchmarks")]),t.contest.benchmarks.length?t._e():n("p",{staticClass:"form-control-label",staticStyle:{"margin-top":"10px"}},[t._v("No benchmarks!")]),n("ul",t._l(t.contest.benchmarks,(function(e,s){return n("li",{key:s,staticStyle:{"text-align":"left"}},[t._v("\n                  "+t._s(e)+"\n                  "),n("span",{staticClass:"btn-inner--icon"},[n("img",{attrs:{width:"12px",src:r("7398")},on:{click:function(e){return e.preventDefault(),t.contest.benchmarks.splice(s,1)}}})])])})),0)])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-6",staticStyle:{"text-align":"left"}},[n("label",{staticClass:"form-control-label"},[t._v("Add New Player (in seed order)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPlayer,expression:"newPlayer"}],staticClass:"form-control form-control-alternative",attrs:{type:"text",placeholder:"ex: Alex"},domProps:{value:t.newPlayer},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addPlayer())},input:function(e){e.target.composing||(t.newPlayer=e.target.value)}}}),n("button",{staticClass:"btn btn-primary my-4",staticStyle:{float:"left"},on:{click:function(e){return e.preventDefault(),t.create()}}},[t._v("Create Contest")])]),n("div",{staticClass:"col-lg-6"},[n("label",{staticClass:"form-control-label"},[t._v("Players")]),t.players.length?t._e():n("p",{staticClass:"form-control-label",staticStyle:{"margin-top":"10px"}},[t._v("No players!")]),n("ul",t._l(t.players,(function(e,s){return n("li",{key:s,staticStyle:{"text-align":"left"}},[t._v("\n                  "+t._s(e)+"\n                  "),n("span",{staticClass:"btn-inner--icon"},[n("img",{attrs:{width:"12px",src:r("7398")},on:{click:function(e){return e.preventDefault(),t.players.splice(s,1)}}})])])})),0)])])])])])])])},et=[];function rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rt(r,!0).forEach((function(e){Object(h["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var st={data:function(){return{contest:{name:null,description:null,type:"Classic",benchmarks:[]},newBenchmark:null,players:[],newPlayer:null}},methods:nt({},Object(b["b"])("contests",["createContest"]),{addBenchMark:function(){this.contest.benchmarks.push(this.newBenchmark),this.newBenchmark=""},addPlayer:function(){this.players.push(this.newPlayer),this.newPlayer=null},create:function(){var t=this;this.createContest({contest:this.contest,players:this.players}).then((function(e){t.contest={name:null,description:null,type:"Clasic",benchmarks:[]},t.newBenchmark=null,t.players=[],t.newPlayer=null}))}})},at=st,it=(r("a22d"),Object(u["a"])(at,tt,et,!1,null,"09d40b64",null)),ot=it.exports,ct={data:function(){return{asyncDataStatus_ready:!1}},methods:{asyncDataStatus_fetched:function(){this.asyncDataStatus_ready=!0,this.$emit("ready")}}};function lt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ut(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?lt(r,!0).forEach((function(e){Object(h["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var dt={name:"PageHome",components:{ContestPreview:Z,ContestCreator:ot},mixins:[ct],computed:ut({},Object(b["c"])({user:"auth/authUser"}),{},Object(b["d"])({contestsList:function(t){return t.contests.items},availableContest:function(){return 0!=Object.keys(this.contestsList).length}}),{isOrganizer:function(){return!!this.user&&"organizer"==this.user.role}}),methods:ut({},Object(b["b"])("contests",["fetchAllContests"])),created:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchAllContests();case 2:this.asyncDataStatus_fetched();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mt=dt,pt=Object(u["a"])(mt,H,J,!1,null,null,null),ft=pt.exports,ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-lg-6 col-md-8"},[r("div",{staticClass:"card bg-secondary shadow border-0"},[r("div",{staticClass:"card-header bg-transparent pb-5"},[t._m(0),r("div",{staticClass:"text-center"},[r("form",[r("label",{staticClass:"radio-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.role,expression:"form.role"}],staticClass:"custom-radio",attrs:{value:"judge",type:"radio",name:"type"},domProps:{checked:t._q(t.form.role,"judge")},on:{change:function(e){return t.$set(t.form,"role","judge")}}}),t._v("Judge\n              ")]),r("label",{staticClass:"radio-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.role,expression:"form.role"}],staticClass:"custom-radio",attrs:{value:"organizer",type:"radio",name:"type"},domProps:{checked:t._q(t.form.role,"organizer")},on:{change:function(e){return t.$set(t.form,"role","organizer")}}}),t._v("Organizer\n              ")])])])]),r("div",{staticClass:"card-header bg-transparent pb-5"},[t._m(1),r("div",{staticClass:"text-center"},[r("a",{staticClass:"btn btn-neutral btn-icon",on:{click:t.registerWithGoogle}},[t._m(2),r("span",{staticClass:"btn-inner--text"},[t._v("Google")])])])]),r("div",{staticClass:"card-body px-lg-5 py-lg-5"},[t._m(3),r("form",{on:{submit:function(e){return e.preventDefault(),t.register()}}},[r("div",{staticClass:"form-group"},[r("div",{staticClass:"input-group input-group-alternative mb-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{placeholder:"Name",type:"text"},domProps:{value:t.form.name},on:{blur:function(e){return t.$v.form.name.$touch()},input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),t.$v.form.name.$error?[t.$v.form.name.required?t._e():r("p",[t._v("This field is required.")])]:t._e()],2),r("div",{staticClass:"form-group"},[r("div",{staticClass:"input-group input-group-alternative mb-3"},[r("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.form.email,expression:"form.email",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{placeholder:"Email",type:"email"},domProps:{value:t.form.email},on:{blur:function(e){return t.$v.form.email.$touch()},change:function(e){return t.$set(t.form,"email",e.target.value)}}})]),t.$v.form.email.$error?[t.$v.form.email.required?t.$v.form.email.email?t._e():r("p",{staticClass:"form-error"},[t._v("This is not a valid email address.")]):r("p",{staticClass:"form-error"},[t._v("This field is required.")])]:t._e()],2),r("div",{staticClass:"form-group"},[r("div",{staticClass:"input-group input-group-alternative mb-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{placeholder:"Password",type:"password"},domProps:{value:t.form.password},on:{blur:function(e){return t.$v.form.password.$touch()},input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),t.$v.form.password.$error?[t.$v.form.password.required?t._e():r("p",{staticClass:"form-error"},[t._v("This field is required.")]),t.$v.form.password.minLength?t._e():r("p",{staticClass:"form-error"},[t._v("The password should be atleast 6 characters long.")])]:t._e()],2),t._m(4)])])])])])])},bt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-muted text-center mt-2 mb-4"},[r("small",[t._v("What do you wanna be?")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-muted text-center mt-2 mb-4"},[r("small",[t._v("Sign up with")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"btn-inner--icon"},[n("img",{attrs:{src:r("0895")}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center text-muted mb-4"},[r("small",[t._v("Or sign up with credentials")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center"},[r("button",{staticClass:"btn btn-primary mt-4",attrs:{type:"submit"}},[t._v("Create account")])])}],vt=r("b5ae"),gt={name:"PageRegister",mixins:[ct],data:function(){return{form:{name:null,email:null,password:null,role:"judge"}}},validations:{form:{name:{required:vt["required"]},email:{required:vt["required"],email:vt["email"]},password:{required:vt["required"],minLength:Object(vt["minLength"])(6)}}},methods:{register:function(){var t=this;this.$v.form.$touch(),this.$v.form.$invalid||this.$store.dispatch("auth/registerUserWithEmailAndPassword",this.form).then((function(){t.$router.push("/")}))},registerWithGoogle:function(){var t=this;this.$store.dispatch("auth/signInWithGoogle",this.form.role).then((function(){t.$router.push("/")}))}},created:function(){this.asyncDataStatus_fetched()}},yt=gt,Ot=(r("8437"),Object(u["a"])(yt,ht,bt,!1,null,null,null)),wt=Ot.exports,Ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-lg-6 col-md-8"},[r("div",{staticClass:"card bg-secondary shadow border-0"},[r("div",{staticClass:"card-header bg-transparent pb-5"},[t._m(0),r("div",{staticClass:"btn-wrapper text-center"},[r("a",{staticClass:"btn btn-neutral btn-icon",on:{click:t.signnInWithGoogle}},[t._m(1),r("span",{staticClass:"btn-inner--text"},[t._v("Google")])])])]),r("div",{staticClass:"card-body px-lg-5 py-lg-5"},[t._m(2),r("form",{attrs:{role:"form"},on:{submit:function(e){return e.preventDefault(),t.signIn(e)}}},[r("div",{staticClass:"form-group mb-3"},[r("div",{staticClass:"input-group input-group-alternative"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{placeholder:"Email",type:"email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})])]),r("div",{staticClass:"form-group"},[r("div",{staticClass:"input-group input-group-alternative"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{placeholder:"Password",type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})])]),t._m(3)])])])])])])},Pt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-muted text-center mt-2 mb-3"},[r("small",[t._v("Sign in with")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"btn-inner--icon"},[n("img",{attrs:{src:r("0895")}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center text-muted mb-4"},[r("small",[t._v("Or sign in with credentials")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center"},[r("button",{staticClass:"btn btn-primary my-4",attrs:{type:"submit"}},[t._v("Sign in")])])}],jt={name:"PageSignIn",mixins:[ct],data:function(){return{form:{email:null,password:null}}},methods:{signIn:function(){var t=this;this.$store.dispatch("auth/signInWithEmailAndPassword",{email:this.form.email,password:this.form.password}).then((function(){return t.$router.push({name:"Home"})}))},signnInWithGoogle:function(){var t=this;this.$store.dispatch("auth/signInWithGoogle").then((function(){return t.$router.push({name:"Home"})}))}},created:function(){this.asyncDataStatus_fetched()}},_t=jt,kt=Object(u["a"])(_t,Ct,Pt,!1,null,null,null),St=kt.exports,xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.asyncDataStatus_ready?r("div",[r("h1",[t._v("\n    "+t._s(t.contest.name)+"\n    "),t.isStarted||t.isFinished||t.isPaused?t.isPaused?r("span",[t._v("- next Stage will start soon")]):t.isStarted?r("span",[t._v("- voting time")]):r("span",[t._v("is finished!")]):r("span",[t._v("will start soon")])]),r("div",{staticClass:"row"},[r("div",{class:[!t.isOrganizer||t.isStarted||t.isFinished?"col-lg-2":"col-lg-1"]}),r("div",{staticClass:"col-lg-8"},[t.isStarted?t.user?r("ContestClassicVotingStage",{attrs:{contestId:t.id,stageId:t.contest.currentStage}}):r("div",[t._v("You can't view the bracket right now!s")]):r("ContestClassicBracket",{attrs:{contestId:t.id}}),r("br"),!t.isOrganizer||t.isStarted||t.isFinished||t.isPaused?t.isOrganizer&&t.isPaused&&!t.isFinished?r("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.start()}}},[t._v("Start next Stage")]):t._e():r("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.start()}}},[t._v("Start Contest")]),r("br")],1),t.isStarted||!t.isOrganizer||t.isFinished?t._e():r("div",{staticClass:"col-lg-2"},[r("RemovePlayer",{attrs:{contestId:t.id,stageId:t.contest.currentStage}})],1),r("div",{class:[t.isOrganizer?"col-lg-1":"col-lg-2"]})])]):t._e()},It=[],Dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-lg-12"},[r("div",{staticClass:"card bg-secondary shadow border-0"},[r("div",{staticClass:"card-body px-lg-5 py-lg-5"},t._l(t.stages,(function(e,n,s){return r("ContestClassicBracketStage",{key:s,attrs:{contestId:t.contestId,stageId:n}})})),1)])])])])},At=[],Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("p",[t._v("Stage "+t._s(t.stageId))]),t._l(t.stage,(function(e,n,s){return r("ContestClassicBracketRound",{key:s,attrs:{contestId:t.contestId,stageId:t.stageId,roundId:n}})}))],2)},qt=[],$t=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",[r("label",{staticClass:"form-control-label"},[t._v(t._s(t.score(t.firstPlayer)))]),r("button",{staticClass:"btn btn-primary",class:[t.isStarted?t.firstPlayerWon?"win":t.isDisqualified(t.firstPlayer.name)?"disqualified":"lose":""],staticStyle:{"margin-left":".5rem"}},[t._v(t._s(t.firstPlayer.name))]),r("label",{staticClass:"form-control-label"},[t._v("vs")]),r("button",{staticClass:"btn btn-primary my-4",class:[t.isStarted?t.firstPlayerWon?t.isDisqualified(t.secondPlayer.name)?"disqualified":"lose":"win":""],staticStyle:{margin:"0 .5rem 0 .5rem"}},[t._v(t._s("undefined"==t.secondPlayer.name?"-":t.secondPlayer.name))]),r("label",{staticClass:"form-control-label"},[t._v(t._s(t.score(t.secondPlayer)))])]),r("div",[t._l(t.benchmarks,(function(e,n,s){return r("div",{key:s},[t._v(t._s(n+": "+e+" - "+t.round[t.secondPlayer.name][n]))])})),r("br"),r("br")],2)])},Rt=[];function Nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nt(r,!0).forEach((function(e){Object(h["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ut={props:{contestId:{required:!0,type:String},stageId:{required:!0,type:String},roundId:{required:!0,type:String}},computed:Bt({},Object(b["d"])({round:function(t){return t.contests.items[this.contestId].stages[this.stageId][this.roundId]}}),{isStarted:function(){return"disqualified"==this.firstPlayer.score||"disqualified"==this.secondPlayer.score||0!=this.firstPlayer.score&&0!=this.secondPlayer.score},firstPlayerWon:function(){return null==this.round[this.firstPlayer.name]||!!this.round.stats.winner&&this.round.stats.winner==this.firstPlayer.name},benchmarks:function(){var t=Bt({},this.round[this.firstPlayer.name]);return null==t[Object.keys(t)[0]]?null:(delete t.score,t)},firstPlayer:function(){var t=Bt({},this.round);delete t.stats;var e=Object.keys(t);return null==t[e[0]]?{name:e[0],score:null}:{name:e[0],score:this.round[e[0]].score}},secondPlayer:function(){var t=Bt({},this.round);delete t.stats;var e=Object.keys(t);return null==t[e[0]]?{name:"-",score:null}:{name:e[1],score:this.round[e[1]].score}}}),methods:{score:function(t){return null==t.score||0==t.score||"disqualified"==t.score||isNaN(t.score)?"":"".concat(t.score,"pct")},isDisqualified:function(t){return!(!this.round[t]||!this.round[t].score)&&"disqualified"==this.round[t].score}}},zt=Ut,Tt=(r("9152"),Object(u["a"])(zt,$t,Rt,!1,null,"d5a1e98c",null)),Gt=Tt.exports;function Wt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wt(r,!0).forEach((function(e){Object(h["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Lt={components:{ContestClassicBracketRound:Gt},props:{contestId:{required:!0,type:String},stageId:{required:!0,type:String}},computed:Vt({},Object(b["d"])({stage:function(t){return t.contests.items[this.contestId].stages[this.stageId]}}))},Ft=Lt,Ht=Object(u["a"])(Ft,Et,qt,!1,null,"4dd8e4c6",null),Jt=Ht.exports;function Kt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kt(r,!0).forEach((function(e){Object(h["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Mt={components:{ContestClassicBracketStage:Jt},props:{contestId:{required:!0,type:String}},computed:Yt({},Object(b["d"])({stages:function(t){return t.contests.items[this.contestId].stages}}))},Qt=Mt,Xt=Object(u["a"])(Qt,Dt,At,!1,null,"75b07400",null),Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-lg-12"},[r("div",{staticClass:"card bg-secondary shadow border-0"},[r("div",{staticClass:"card-body px-lg-5 py-lg-5"},[t.availableRoundsToVote?r("label",{staticClass:"form-control-label",staticStyle:{"margin-right":"70px"}},[t._v("No available Rounds to Rate")]):t._e(),t.isOrganizer?t.availableRoundsToVote?t._e():r("div",[r("label",{staticClass:"form-control-label"},[t._v("Judges are voting!")])]):r("div",t._l(t.filteredStage,(function(e,n,s){return r("ContestClassicVotingRound",{key:s,attrs:{contestId:t.contestId,stageId:t.stageId,roundId:n}})})),1)])])])]),t.isOrganizer&&t.isStarted?r("button",{staticClass:"btn btn-primary my-4",staticStyle:{margin:"0 2rem 0 2rem"},on:{click:function(e){return t.finishVotingRound()}}},[t._v("Finish This Stage")]):t._e()])},ee=[],re=(r("c5f6"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",[r("button",{staticClass:"btn btn-primary",staticStyle:{"margin-left":".5rem"}},[t._v(t._s(t.firstPlayer.name))]),r("label",{staticClass:"form-control-label"},[t._v("vs")]),r("button",{staticClass:"btn btn-primary my-4",staticStyle:{margin:"0 .5rem 0 .5rem"}},[t._v(t._s(null==t.secondPlayer.name?"-":t.secondPlayer.name))])]),t.userAlreadyVoted?r("div",[t._v("You already submited your vote for this round !")]):r("div",[r("label",{staticClass:"form-control-label"},[t._v("Select Benchmarks Ratings")]),t._l(t.benchmarks,(function(e,n,s){return r("div",{key:s},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.firstPlayer.benchmarks[e],expression:"firstPlayer.benchmarks[benchmark]"}],on:{change:function(r){var n=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.firstPlayer.benchmarks,e,r.target.multiple?n:n[0])}}},[r("option",{attrs:{disabled:"",value:""}},[t._v("Score")]),t._l(t.ratingsList,(function(e,n){return r("option",{key:n},[t._v(t._s(e))])}))],2),r("button",{staticClass:"btn btn-primary my-4",staticStyle:{margin:"0 2rem 0 2rem"}},[t._v(t._s(e))]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.secondPlayer.benchmarks[e],expression:"secondPlayer.benchmarks[benchmark]"}],on:{change:function(r){var n=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.secondPlayer.benchmarks,e,r.target.multiple?n:n[0])}}},[r("option",{attrs:{disabled:"",value:""}},[t._v("Score")]),t._l(t.ratingsList,(function(e,n){return r("option",{key:n},[t._v(t._s(e))])}))],2)])})),r("button",{staticClass:"btn btn-primary my-4",on:{click:function(e){return t.send()}}},[t._v("Send Ratings")])],2),r("hr")])}),ne=[];r("6762"),r("2fdb");function se(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ae(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?se(r,!0).forEach((function(e){Object(h["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):se(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ie={props:{contestId:{required:!0,type:String},stageId:{required:!0,type:Number},roundId:{required:!0,type:String}},data:function(){return{firstPlayer:{name:null,benchmarks:{}},secondPlayer:{name:null,benchmarks:{}},ratingsList:[1,2,3,4,5,6,7,8,9,10]}},computed:ae({},Object(b["d"])({userId:function(t){return t.auth.authId},benchmarks:function(t){return t.contests.items[this.contestId].benchmarks},round:function(t){return t.contests.items[this.contestId].stages[this.stageId][this.roundId]},userAlreadyVoted:function(){return this.voters.includes(this.userId)}}),{voters:function(){return this.round.stats.users}}),methods:ae({},Object(b["b"])("contests",["sendRoundRating"]),{send:function(){this.sendRoundRating({contestId:this.contestId,stageId:this.stageId,roundId:this.roundId,players:[this.firstPlayer,this.secondPlayer],benchmarks:this.benchmarks})}}),created:function(){var t=ae({},this.round);delete t.stats;var e=Object.keys(t);"disqualified"==t[e[0]].score&&"disqualified"==t[e[1]].score||(null==t[e[0]]?(this.firstPlayer.name=e[0],this.secondPlayer.name="-"):(this.firstPlayer.name=e[0],this.secondPlayer.name=e[1]),this.firstPlayer.benchmarks=t[e[0]],this.secondPlayer.benchmarks=t[e[1]])}},oe=ie,ce=Object(u["a"])(oe,re,ne,!1,null,"78142e42",null),le=ce.exports;function ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ue(r,!0).forEach((function(e){Object(h["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ue(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var me={components:{ContestClassicVotingRound:le},props:{contestId:{required:!0,type:String},stageId:{required:!0,type:Number}},computed:de({},Object(b["c"])({user:"auth/authUser"}),{},Object(b["d"])({contestStatus:function(t){return t.contests.items[this.contestId].status},stage:function(t){return t.contests.items[this.contestId].stages[this.stageId]}}),{isStarted:function(){return"started"==this.contestStatus},isOrganizer:function(){return"organizer"==this.user.role},filteredStage:function(){for(var t={},e=null,r=0,n=Object.entries(this.stage);r<n.length;r++){var s=Object(q["a"])(n[r],2),a=s[0],i=s[1];if(e=!1,i.stats){for(var o=0,c=Object.entries(i);o<c.length;o++){var l=Object(q["a"])(c[o],2),u=(l[0],l[1]);"disqualified"==u.score&&(e=!0)}if(e)continue;t[a]=i}}return t},availableRoundsToVote:function(){return 0==Object.keys(this.filteredStage).length}}),methods:de({},Object(b["b"])("contests",["endStage"]),{finishVotingRound:function(){this.endStage({contestId:this.contestId,stageId:this.stageId})}})},pe=me,fe=Object(u["a"])(pe,te,ee,!1,null,"aa5f8ab4",null),he=fe.exports,be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-lg-12"},[n("div",{staticClass:"card bg-secondary shadow border-0"},[n("div",{staticClass:"card-body py-lg-5"},[n("label",{staticClass:"form-control-label"},[t._v("Disqualify Players from current Stage:")]),t._l(t.rounds,(function(e,s,a){return n("ul",{key:a},t._l(t.updatedRound(e),(function(a,i,o){return n("li",{key:o,staticStyle:{"text-align":"left"}},[t._v("\n              "+t._s(i)+"\n              "),n("span",{staticClass:"btn-inner--icon"},[n("img",{attrs:{width:"12px",src:r("7398")},on:{click:function(r){return r.preventDefault(),t.removePlayer(i,s,e)}}})])])})),0)})),n("br"),n("div",[n("label",{staticClass:"form-control-label"},[t._v("Contest QR Code:")]),n("qrcode",{attrs:{value:"`//localhost/:8080/contest/${contestID}?judge=true`",options:{width:200}}}),n("button",{attrs:{disabled:""}},[t._v("Print QR Code")])],1)],2)])])])])},ve=[];function ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ye(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ge(r,!0).forEach((function(e){Object(h["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ge(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Oe={props:{contestId:{required:!0,type:String},stageId:{required:!0,type:Number}},computed:ye({},Object(b["d"])({contest:function(t){return t.contests.items[this.contestId]}}),{rounds:function(){return this.contest.stages[this.stageId]}}),methods:ye({},Object(b["b"])("contests",["disqualifyPlayer"]),{updatedRound:function(t){for(var e=ye({},t),r=0,n=Object.entries(e);r<n.length;r++){var s=Object(q["a"])(n[r],2),a=s[0],i=s[1];if("stats"==a&&delete e[a],null==i)return null}var o=Object.keys(e);return"disqualified"==e[o[0]].score||"disqualified"==e[o[1]].score?null:e},removePlayer:function(t,e,r){for(var n=null,s=0,a=Object.entries(this.updatedRound(r));s<a.length;s++){var i=Object(q["a"])(a[s],2),o=i[0];i[1];o!=t&&(n=o)}this.disqualifyPlayer({playerName:t,opponentName:n,roundId:e,stageId:this.stageId,contestId:this.contestId})}})},we=Oe,Ce=Object(u["a"])(we,be,ve,!1,null,"0d37a124",null),Pe=Ce.exports;function je(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _e(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?je(r,!0).forEach((function(e){Object(h["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):je(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ke={name:"PageContest",mixins:[ct],components:{ContestClassicBracket:Zt,ContestClassicVotingStage:he,RemovePlayer:Pe},props:{id:{required:!0,type:String},isAllowedJudge:{required:!0,default:!1}},data:function(){return{newPlayer:null}},computed:_e({},Object(b["d"])({contest:function(t){return t.contests.items[this.id]}}),{},Object(b["c"])({user:"auth/authUser"}),{isOrganizer:function(){return this.user&&"organizer"==this.user.role},isStarted:function(){return"started"==this.contest.status},isFinished:function(){return"finished"===this.contest.status},isPaused:function(){return"paused"==this.contest.status}}),methods:_e({},Object(b["b"])("contests",["fetchContest","fetchContestRealTime"]),{start:function(){Ge.collection("contests").doc(this.id).update({status:"started"})}}),created:function(){var t=this;this.fetchContest(this.id).then((function(){t.asyncDataStatus_fetched(),t.fetchContestRealTime(t.id)}))}},Se=ke,xe=(r("34be"),Object(u["a"])(Se,xt,It,!1,null,"504597fa",null)),Ie=xe.exports;n["a"].use(F["a"]);var De=new F["a"]({mode:"history",base:"/",routes:[{path:"/",name:"Home",component:ft},{path:"/contest/:id",name:"Contest",component:Ie,meta:{requiresNotJudge:!0},props:function(t){return{isAllowedJudge:t.query.judge,id:t.params.id}}},{path:"/register",name:"Register",component:wt,meta:{requiresGuest:!0}},{path:"/signIn",name:"SignIn",component:St,meta:{requiresGuest:!0}},{path:"/logout",name:"SignOut",meta:{requiresAuth:!0},beforeEnter:function(t,e,r){L.dispatch("auth/signOut").then((function(){return r({name:"SignIn"})}))}}]});De.beforeEach((function(t,e,r){console.log("ðŸš¦ navigating to ".concat(t.name," from ").concat(e.name)),L.dispatch("auth/initAuthentification").then((function(e){t.matched.some((function(t){return t.meta.requiresAuth}))?e?r():r({name:"SignIn",query:{redirectTo:t.path}}):t.matched.some((function(t){return t.meta.requiresGuest}))?e?r({name:"Home"}):r():t.matched.some((function(t){return t.meta.requiresNotJudge}))&&e&&"judge"==e.role||r()}))}));var Ae=De,Ee=r("59ca"),qe=r.n(Ee),$e=(r("e89a"),r("1dce")),Re=r.n($e),Ne=r("d56f"),Be=r("b676"),Ue=r.n(Be);r.d(e,"db",(function(){return Ge})),r.d(e,"firestore",(function(){return We})),n["a"].use(Re.a),n["a"].component(Ne["a"].name,Ne["a"]);var ze={name:"_blank",specs:["fullscreen=yes","titlebar=yes","scrollbars=yes"],styles:["https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css","https://unpkg.com/kidlat-css/css/kidlat.css"]};n["a"].use(Ue.a,ze),n["a"].config.productionTip=!1;var Te={apiKey:"AIzaSyDAmj34_zsCRxdT1wlY133KH4cxvQbWc50",authDomain:"mps-rap-battles-app.firebaseapp.com",databaseURL:"https://mps-rap-battles-app.firebaseio.com",projectId:"mps-rap-battles-app",storageBucket:"mps-rap-battles-app.appspot.com",messagingSenderId:"888577573869",appId:"1:888577573869:web:7cfd4c4971d918fe169de4",measurementId:"G-8ZCKSBLPHR"};qe.a.initializeApp(Te);var Ge=qe.a.firestore(),We=qe.a.firestore;new n["a"]({router:Ae,store:L,render:function(t){return t(k)}}).$mount("#app")},"64a9":function(t,e,r){},"6b75":function(t,e,r){},7398:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABmJLR0QA/wD/AP+gvaeTAAABlUlEQVRIia3VwWoUQRDG8V8WkpsmXlV8EI0oqFE8KwnmsHkVxU2C+B4qPkFuKuKDGBSMupFsbpEdD90D42S6e7K7HxQM3bX17+qtrlpS1gru4iGu42pc/45DHOADznrE6tQa9vEHVcGOsYvVi0Ke4XcPQNt+YbMPYIC9GQBNm2KEpRxoXkjTXqYg2/E0iwJNsdWGrAn3uyhIbWNcaYL2E45/sYMNTDr2J3FvKJR3V4zdGrIiXcI7jcOst2AT3G7sDzNZLYsnSqW+0briGjaJ3009yMS5D68zDl0B1xNrJ5k4r+B9xqHCqdCCUrpVgFR4C58LTjlYH0iFT4P4Mav6/raCd4XTlK7upnJWbwb4mglyikfCGKjVLoYveBx9UzokX5YXKe/cM7lHeEzHCYdhByRV+sUHS2gTXU5nMcA8Lei/Ln4JPzKpz2pHuNy6YpsWPyaetiG1RgsEPU9BCKN8NGdmU7xQGOW1tvBzBsgRnvQBNLUqVOO4B2AsVNe5P75Wn/SWcUco4xu4Fte/CV3lAB+FaZzUPwbUkyD7ldsnAAAAAElFTkSuQmCC"},"7ef3":function(t,e,r){},8437:function(t,e,r){"use strict";var n=r("e5ee"),s=r.n(n);s.a},9152:function(t,e,r){"use strict";var n=r("3617"),s=r.n(n);s.a},a22d:function(t,e,r){"use strict";var n=r("7ef3"),s=r.n(n);s.a},e5ee:function(t,e,r){}});
//# sourceMappingURL=app.9a419821.js.map