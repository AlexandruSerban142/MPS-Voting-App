{"remainingRequest":"/Users/alexandruserban/Documents/Web Development/MPS/MPS-Voting-App/node_modules/babel-loader/lib/index.js!/Users/alexandruserban/Documents/Web Development/MPS/MPS-Voting-App/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/alexandruserban/Documents/Web Development/MPS/MPS-Voting-App/src/store/modules/users.js","dependencies":[{"path":"/Users/alexandruserban/Documents/Web Development/MPS/MPS-Voting-App/src/store/modules/users.js","mtime":1573408857483},{"path":"/Users/alexandruserban/Documents/Web Development/MPS/MPS-Voting-App/node_modules/cache-loader/dist/cjs.js","mtime":1573384218503},{"path":"/Users/alexandruserban/Documents/Web Development/MPS/MPS-Voting-App/node_modules/babel-loader/lib/index.js","mtime":1572617092984},{"path":"/Users/alexandruserban/Documents/Web Development/MPS/MPS-Voting-App/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1573384218024}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport { db } from \"@/main\";\nimport Vue from \"vue\";\nexport default {\n  namespaced: true,\n  state: {\n    items: {}\n  },\n  actions: {\n    createUser: function createUser(_ref, _ref2) {\n      var state = _ref.state,\n          commit = _ref.commit;\n      var id = _ref2.id,\n          email = _ref2.email,\n          name = _ref2.name,\n          username = _ref2.username,\n          role = _ref2.role,\n          _ref2$avatar = _ref2.avatar,\n          avatar = _ref2$avatar === void 0 ? null : _ref2$avatar;\n      return new Promise(function (resolve, reject) {\n        email = email.toLowerCase();\n        var user = {\n          email: email,\n          name: name,\n          role: role\n        };\n        console.log(user);\n        console.log(\"New User id: \", id);\n        db.collection(\"users\").doc(id).set(user).then(function () {\n          commit(\"setItem\", {\n            resource: \"users\",\n            item: user,\n            id: id\n          }, {\n            root: true\n          });\n          resolve(state.items[id]);\n        });\n      });\n    },\n    fetchUser: function fetchUser(_ref3, _ref4) {\n      var dispatch = _ref3.dispatch;\n      var id = _ref4.id;\n      return dispatch(\"fetchItem\", {\n        id: id,\n        resource: \"users\"\n      }, {\n        root: true\n      });\n    }\n  },\n  mutations: {\n    setUser: function setUser(state, _ref5) {\n      var user = _ref5.user,\n          userId = _ref5.userId;\n      Vue.set(state.items, userId, user);\n    }\n  }\n};",{"version":3,"sources":["/Users/alexandruserban/Documents/Web Development/MPS/MPS-Voting-App/src/store/modules/users.js"],"names":["db","Vue","namespaced","state","items","actions","createUser","commit","id","email","name","username","role","avatar","Promise","resolve","reject","toLowerCase","user","console","log","collection","doc","set","then","resource","item","root","fetchUser","dispatch","mutations","setUser","userId"],"mappings":";AAAA,SAASA,EAAT,QAAmB,QAAnB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAGbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE;AADF,GAHM;AAObC,EAAAA,OAAO,EAAE;AACPC,IAAAA,UADO,mCAIL;AAAA,UAFEH,KAEF,QAFEA,KAEF;AAAA,UAFSI,MAET,QAFSA,MAET;AAAA,UADEC,EACF,SADEA,EACF;AAAA,UADMC,KACN,SADMA,KACN;AAAA,UADaC,IACb,SADaA,IACb;AAAA,UADmBC,QACnB,SADmBA,QACnB;AAAA,UAD6BC,IAC7B,SAD6BA,IAC7B;AAAA,+BADmCC,MACnC;AAAA,UADmCA,MACnC,6BAD4C,IAC5C;AACA,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCP,QAAAA,KAAK,GAAGA,KAAK,CAACQ,WAAN,EAAR;AACA,YAAMC,IAAI,GAAG;AACXT,UAAAA,KAAK,EAALA,KADW;AAEXC,UAAAA,IAAI,EAAJA,IAFW;AAGXE,UAAAA,IAAI,EAAJA;AAHW,SAAb;AAKAO,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AAEAC,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BZ,EAA7B;AAEAR,QAAAA,EAAE,CAACqB,UAAH,CAAc,OAAd,EACGC,GADH,CACOd,EADP,EAEGe,GAFH,CAEOL,IAFP,EAGGM,IAHH,CAGQ,YAAM;AACVjB,UAAAA,MAAM,CACJ,SADI,EAEJ;AACEkB,YAAAA,QAAQ,EAAE,OADZ;AAEEC,YAAAA,IAAI,EAAER,IAFR;AAGEV,YAAAA,EAAE,EAAFA;AAHF,WAFI,EAOJ;AAAEmB,YAAAA,IAAI,EAAE;AAAR,WAPI,CAAN;AASAZ,UAAAA,OAAO,CAACZ,KAAK,CAACC,KAAN,CAAYI,EAAZ,CAAD,CAAP;AACD,SAdH;AAeD,OA1BM,CAAP;AA2BD,KAhCM;AAkCPoB,IAAAA,SAAS,EAAE;AAAA,UAAGC,QAAH,SAAGA,QAAH;AAAA,UAAiBrB,EAAjB,SAAiBA,EAAjB;AAAA,aACTqB,QAAQ,CAAC,WAAD,EAAc;AAAErB,QAAAA,EAAE,EAAFA,EAAF;AAAMiB,QAAAA,QAAQ,EAAE;AAAhB,OAAd,EAAyC;AAAEE,QAAAA,IAAI,EAAE;AAAR,OAAzC,CADC;AAAA;AAlCJ,GAPI;AA6CbG,EAAAA,SAAS,EAAE;AACTC,IAAAA,OADS,mBACD5B,KADC,SACwB;AAAA,UAAhBe,IAAgB,SAAhBA,IAAgB;AAAA,UAAVc,MAAU,SAAVA,MAAU;AAC/B/B,MAAAA,GAAG,CAACsB,GAAJ,CAAQpB,KAAK,CAACC,KAAd,EAAqB4B,MAArB,EAA6Bd,IAA7B;AACD;AAHQ;AA7CE,CAAf","sourcesContent":["import { db } from \"@/main\";\nimport Vue from \"vue\";\n\nexport default {\n  namespaced: true,\n\n  state: {\n    items: {}\n  },\n\n  actions: {\n    createUser(\n      { state, commit },\n      { id, email, name, username, role, avatar = null }\n    ) {\n      return new Promise((resolve, reject) => {\n        email = email.toLowerCase();\n        const user = {\n          email,\n          name,\n          role\n        };\n        console.log(user);\n\n        console.log(\"New User id: \", id);\n\n        db.collection(\"users\")\n          .doc(id)\n          .set(user)\n          .then(() => {\n            commit(\n              \"setItem\",\n              {\n                resource: \"users\",\n                item: user,\n                id\n              },\n              { root: true }\n            );\n            resolve(state.items[id]);\n          });\n      });\n    },\n\n    fetchUser: ({ dispatch }, { id }) =>\n      dispatch(\"fetchItem\", { id, resource: \"users\" }, { root: true })\n  },\n\n  mutations: {\n    setUser(state, { user, userId }) {\n      Vue.set(state.items, userId, user);\n    }\n  }\n};\n"]}]}